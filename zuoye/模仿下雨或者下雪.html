<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>模仿下雨或者下雪</title>
</head>
<style>
	html,body{
		width:100%;
		height:100%;
		background: rgb(10,10,10);
		overflow: hidden;
		margin:0;padding:0;
	}
</style>
<body>
</body>
<script>
	window.onload=function(){
		var cw=document.documentElement.clientWidth;
		var ch=document.documentElement.clientHeight;
		
		
		var arr=[];
		for(var i=0;i<100;i++){
			var div=document.createElement("div");
			div.style.cssText="width:2px;height:5px;position:absolute;background:#fff;left:"+(50+Math.random()*(cw-80))+"px;filter:blur(1px);top:20px;transition:transform 5s ease "+(1+2*Math.random())+"s";
			document.body.appendChild(div);
			arr.push(div);
		}
		setTimeout(function(){
			for(var i=0;i<arr.length;i++){
				arr[i].style.transform="translate(0,"+ch+"px)";
				arr[i].addEventListener("webkitTransitionEnd",function(){
					this.style.transition="none";
					this.style.transform="translate(0,0)";
					var that=this;
					setTimeout(function(){
						that.style.transition="transform 2s ease";
						that.style.transform="translate(0,"+ch+"px)";
						console.log(this);
					},0)
				})
			}
		},0)
		var pp=Math.random()*20;
		setInterval(function(){
			var body=document.getElementsByTagName('body')[0]
			var pp=Math.random()*20;
			body.style.transition="transform 2s linear";
			body.style.transform="rotate("+pp+"deg)";
		},1000);

	}

</script>
</html>